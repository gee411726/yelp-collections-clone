{"ast":null,"code":"import _classCallCheck from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';var CreateCollection=/*#__PURE__*/function(_Component){_inherits(CreateCollection,_Component);var _super=_createSuper(CreateCollection);function CreateCollection(props){var _this;_classCallCheck(this,CreateCollection);_this=_super.call(this,props);_this.onChangeCollectionName=_this.onChangeCollectionName.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={collectionName:'',collections:[]};return _this;}_createClass(CreateCollection,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/collections/').then(function(response){if(response.data.usersList.length>0){_this2.setState({users:response.data.usersList.map(function(user){return user.username;}),username:response.data.usersList[0].username});}}).catch(function(error){console.log(error);});}},{key:\"onChangeCollectionName\",value:function onChangeCollectionName(e){this.setState({collectionName:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var collection={collectionName:this.state.collectionName};axios.post('http://localhost:5000/collections/add',collection).then(function(res){console.log(res.data);alert(\"Collection successfully created!\");window.location='/';}).catch(function(err){alert(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"component-title\",children:\"Create New Collection\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Collection Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.collectionName,onChange:this.onChangeCollectionName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Collection\",className:\"btn btn-primary\"})})]})]});}}]);return CreateCollection;}(Component);export{CreateCollection as default};","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/components/Create-Collection/Create-Collection.js"],"names":["React","Component","axios","CreateCollection","props","onChangeCollectionName","bind","onSubmit","state","collectionName","collections","get","then","response","data","usersList","length","setState","users","map","user","username","catch","error","console","log","e","target","value","preventDefault","collection","post","res","alert","window","location","err"],"mappings":"0/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,gB,oHACnB,0BAAYC,KAAZ,CAAmB,kDACjB,uBAAMA,KAAN,EAEA,MAAKC,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,+BAA9B,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CAEA,MAAKE,KAAL,CAAa,CACXC,cAAc,CAAE,EADL,CAEXC,WAAW,CAAE,EAFF,CAAb,CANiB,aAUlB,C,0FAEmB,iBAClBR,KAAK,CAACS,GAAN,CAAU,oCAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAAiC,CAArC,CAAwC,CACtC,MAAI,CAACC,QAAL,CAAc,CACVC,KAAK,CAAEL,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBI,GAAxB,CAA4B,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,QAAT,EAAhC,CADG,CAEVA,QAAQ,CAAER,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwB,CAAxB,EAA2BM,QAF3B,CAAd,EAIH,CACF,CARD,EASGC,KATH,CASS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAXH,EAaD,C,sEAEsBG,C,CAAG,CACxB,KAAKT,QAAL,CAAc,CACZR,cAAc,CAAEiB,CAAC,CAACC,MAAF,CAASC,KADb,CAAd,EAGD,C,0CAEQF,C,CAAG,CACVA,CAAC,CAACG,cAAF,GAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBrB,cAAc,CAAE,KAAKD,KAAL,CAAWC,cADV,CAAnB,CAIAP,KAAK,CAAC6B,IAAN,CAAW,uCAAX,CAAoDD,UAApD,EACGlB,IADH,CACQ,SAAAoB,GAAG,CAAI,CACXR,OAAO,CAACC,GAAR,CAAYO,GAAG,CAAClB,IAAhB,EACAmB,KAAK,CAAC,kCAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CALH,EAMGb,KANH,CAMS,SAAAc,GAAG,CAAI,CACZH,KAAK,CAACG,GAAD,CAAL,CACD,CARH,EASD,C,uCAEQ,CACP,mBACA,oCACE,YAAK,SAAS,CAAC,iBAAf,mCADF,cAEE,cAAM,QAAQ,CAAE,KAAK7B,QAArB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACI,4CADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKC,KAAL,CAAWC,cAHtB,CAII,QAAQ,CAAE,KAAKJ,sBAJnB,EAFJ,GADF,cAUE,YAAK,SAAS,CAAC,YAAf,uBACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,mBAA3B,CAA+C,SAAS,CAAC,iBAAzD,EADF,EAVF,GAFF,GADA,CAmBD,C,8BAzE2CJ,S,SAAzBE,gB","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class CreateCollection extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeCollectionName = this.onChangeCollectionName.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      collectionName: '',\n      collections: [],\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/collections/')\n      .then(response => {\n        if (response.data.usersList.length > 0) {\n          this.setState({\n              users: response.data.usersList.map(user => user.username),\n              username: response.data.usersList[0].username\n        })\n      }\n    })\n      .catch((error) => {\n        console.log(error);\n      })\n\n  }\n\n  onChangeCollectionName(e) {\n    this.setState({\n      collectionName: e.target.value\n    })\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const collection = {\n      collectionName: this.state.collectionName,\n    }\n\n    axios.post('http://localhost:5000/collections/add', collection)\n      .then(res => {\n        console.log(res.data);\n        alert(\"Collection successfully created!\");\n        window.location = '/';\n      })\n      .catch(err => {\n        alert(err)\n      })\n  }\n\n  render() {\n    return (\n    <div>\n      <div className=\"component-title\">Create New Collection</div>\n      <form onSubmit={this.onSubmit}>\n        <div className=\"form-group\"> \n            <label>Collection Name: </label>\n            <input type=\"text\"\n                required\n                className=\"form-control\"\n                value={this.state.collectionName}\n                onChange={this.onChangeCollectionName}\n                />\n          </div>\n        <div className=\"form-group\">\n          <input type=\"submit\" value=\"Create Collection\" className=\"btn btn-primary\" />\n        </div>\n      </form>\n    </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}