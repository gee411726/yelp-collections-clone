{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/bgee/Desktop/Web App Projects/mern-exercise-tracker/src/views/Detail/Detail.js\";\nimport React from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { getDetails } from '../../utils/googleApiHelpers';\nimport styles from './styles.module.css';\nexport class Detail extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: true,\n      place: {},\n      location: {}\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.map) {\n      this.getDetails(this.props.map);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.map && (prevProps.map !== this.props.map || prevProps.params.placeId !== this.props.params.placeId)) {\n      this.getDetails(this.props.map);\n    }\n  }\n\n  renderPhotos(place) {\n    if (!place.photos || place.photos.length == 0) return;\n    const cfg = {\n      maxWidth: 100,\n      maxHeight: 100\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.photoStrip,\n      children: place.photos.map(p => {\n        const url = `${p.getUrl(cfg)}.png`;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: url\n        }, url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n  getDetails(map) {\n    const {\n      google,\n      params\n    } = this.props;\n    const {\n      placeId\n    } = params;\n    this.setState({\n      loading: true\n    }, () => {\n      getDetails(google, map, placeId).then(place => {\n        const {\n          location\n        } = place.geometry;\n        const loc = {\n          lat: location.lat(),\n          lng: location.lng()\n        };\n        this.setState({\n          place,\n          location: loc,\n          loading: false\n        });\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }, this);\n    }\n\n    const {\n      place\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: place.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.details,\n        children: this.renderPhotos(place)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nDetail.childContextTypes = {\n  router: T.object\n};\nexport default Detail;","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/mern-exercise-tracker/src/views/Detail/Detail.js"],"names":["React","PropTypes","T","getDetails","styles","Detail","Component","constructor","props","context","state","loading","place","location","componentDidMount","map","componentDidUpdate","prevProps","params","placeId","renderPhotos","photos","length","cfg","maxWidth","maxHeight","photoStrip","p","url","getUrl","google","setState","then","geometry","loc","lat","lng","render","wrapper","header","name","details","childContextTypes","router","object"],"mappings":"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","sourcesContent":["\nimport React from 'react'\nimport { PropTypes as T } from 'prop-types'\nimport {getDetails} from '../../utils/googleApiHelpers'\n\nimport styles from './styles.module.css'\n\nexport class Detail extends React.Component {\n  static childContextTypes = {\n    router: T.object,\n  }\n\n  constructor(props, context) {\n    super(props, context)\n\n    this.state = {\n      loading: true,\n      place: {},\n      location: {}\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.map) {\n      this.getDetails(this.props.map)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.map &&\n        (prevProps.map !== this.props.map ||\n         prevProps.params.placeId !== this.props.params.placeId)) {\n      this.getDetails(this.props.map);\n    }\n  }\n\n  renderPhotos(place) {\n    if (!place.photos || place.photos.length == 0) return;\n\n    const cfg = {maxWidth: 100, maxHeight: 100}\n    return (<div className={styles.photoStrip}>\n      {place.photos.map(p => {\n        const url = `${p.getUrl(cfg)}.png`\n        return (<img key={url} src={url} />)\n      })}\n    </div>)\n  }\n\n  getDetails(map) {\n    const {google, params} = this.props;\n    const {placeId} = params;\n\n    this.setState({\n      loading: true\n    }, () => {\n      getDetails(google, map, placeId)\n        .then((place) => {\n          const {location} = place.geometry;\n          const loc = {\n            lat: location.lat(),\n            lng: location.lng()\n          }\n\n          this.setState({\n            place,\n            location: loc,\n            loading: false\n          })\n        })\n    });\n  }\n\n\n  render() {\n    if (this.state.loading) {\n      return (<div className={styles.wrapper}>\n        Loading...\n      </div>)\n    }\n\n    const {place} = this.state;\n\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.header}>\n          <h2>{place.name}</h2>\n        </div>\n        <div className={styles.details}>\n          {this.renderPhotos(place)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Detail"]},"metadata":{},"sourceType":"module"}