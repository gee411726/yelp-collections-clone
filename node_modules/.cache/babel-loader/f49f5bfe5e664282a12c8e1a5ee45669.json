{"ast":null,"code":"import _classCallCheck from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';var host=process.env.host||'0.0.0.0';var port=process.env.port||'5000';var AddtoCollection=/*#__PURE__*/function(_Component){_inherits(AddtoCollection,_Component);var _super=_createSuper(AddtoCollection);function AddtoCollection(props){var _this;_classCallCheck(this,AddtoCollection);_this=_super.call(this,props);_this.onChangeCollection=_this.onChangeCollection.bind(_assertThisInitialized(_this));_this.onChangePlaceId=_this.onChangePlaceId.bind(_assertThisInitialized(_this));_this.onChangePlaceName=_this.onChangePlaceName.bind(_assertThisInitialized(_this));_this.onChangeComments=_this.onChangeComments.bind(_assertThisInitialized(_this));_this.onChangeLat=_this.onChangeLat.bind(_assertThisInitialized(_this));_this.onChangeLng=_this.onChangeLng.bind(_assertThisInitialized(_this));_this.onChangeRating=_this.onChangeRating.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={collection:'',collections:[],placeId:'',placeName:'',lat:0.000,lng:0.000,comments:''};return _this;}_createClass(AddtoCollection,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://\".concat(host,\":\").concat(port,\"/collections/\")).then(function(response){if(response.data.collectionsList.length>0){_this2.setState({collections:response.data.collectionsList.filter(function(el){return el.name!=='users';}).map(function(collection){return collection.name;})});_this2.setState({collection:_this2.state.collections[0]});}}).catch(function(error){console.log(error);});}},{key:\"onChangeCollection\",value:function onChangeCollection(e){this.setState({collection:e.target.value});}},{key:\"onChangePlaceId\",value:function onChangePlaceId(e){this.setState({placeId:e.target.value});}},{key:\"onChangePlaceName\",value:function onChangePlaceName(e){this.setState({placeName:e.target.value});}},{key:\"onChangeComments\",value:function onChangeComments(e){this.setState({comments:e.target.value});}},{key:\"onChangeLat\",value:function onChangeLat(e){this.setState({lat:e.target.value});}},{key:\"onChangeLng\",value:function onChangeLng(e){this.setState({lng:e.target.value});}},{key:\"onChangeRating\",value:function onChangeRating(e){this.setState({rating:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var place={collectionName:this.state.collection,placeId:this.state.placeId,placeName:this.state.placeName,lat:this.state.lat,lng:this.state.lng,rating:this.state.rating,comments:this.state.comments};axios.post(\"http://\".concat(host,\":\").concat(port,\"/collections/place/add\"),place).then(function(res){console.log(res.data);alert(\"Place successfully added to collection!\");window.location='/';}).catch(function(err){alert(err);});}},{key:\"render\",value:function render(){String.prototype.toProperCase=function(){return this.replace(/\\w\\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"component-title\",children:\"Add Place to Collection\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Collection to Add to: \"})}),/*#__PURE__*/_jsx(\"select\",{ref:\"userInput\",required:true,className:\"form-control\",value:this.state.collection,onChange:this.onChangeCollection,children:this.state.collections.map(function(collection){return/*#__PURE__*/_jsx(\"option\",{value:collection,children:collection.toProperCase()},collection);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Place Id\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.placeId,onChange:this.onChangePlaceId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Place Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.placeName,onChange:this.onChangePlaceName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lattitude\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",onChange:this.onChangeLat})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Longitude\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",onChange:this.onChangeLng})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating (Out of 5)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"float\",className:\"form-control\",value:this.state.rating,onChange:this.onChangeRating})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:this.state.comments,onChange:this.onChangeComments})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add to Collection\",className:\"btn btn-primary\"})})]})]});}}]);return AddtoCollection;}(Component);export{AddtoCollection as default};","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/components/Add-to-Collection/Add-to-Collection.js"],"names":["React","Component","axios","host","process","env","port","AddtoCollection","props","onChangeCollection","bind","onChangePlaceId","onChangePlaceName","onChangeComments","onChangeLat","onChangeLng","onChangeRating","onSubmit","state","collection","collections","placeId","placeName","lat","lng","comments","get","then","response","data","collectionsList","length","setState","filter","el","name","map","catch","error","console","log","e","target","value","rating","preventDefault","place","collectionName","post","res","alert","window","location","err","String","prototype","toProperCase","replace","txt","charAt","toUpperCase","substr","toLowerCase"],"mappings":"0/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAIC,CAAAA,IAAI,CAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAoB,SAA/B,CACA,GAAIG,CAAAA,IAAI,CAAGF,OAAO,CAACC,GAAR,CAAYC,IAAZ,EAAoB,MAA/B,C,GAGqBC,CAAAA,e,kHACnB,yBAAYC,KAAZ,CAAmB,iDACjB,uBAAMA,KAAN,EAEA,MAAKC,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B,CACA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBD,IAArB,+BAAvB,CACA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,+BAAzB,CACA,MAAKG,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBH,IAAtB,+BAAxB,CACA,MAAKI,WAAL,CAAmB,MAAKA,WAAL,CAAiBJ,IAAjB,+BAAnB,CACA,MAAKK,WAAL,CAAmB,MAAKA,WAAL,CAAiBL,IAAjB,+BAAnB,CACA,MAAKM,cAAL,CAAsB,MAAKA,cAAL,CAAoBN,IAApB,+BAAtB,CACA,MAAKO,QAAL,CAAgB,MAAKA,QAAL,CAAcP,IAAd,+BAAhB,CAEA,MAAKQ,KAAL,CAAa,CACXC,UAAU,CAAE,EADD,CAEXC,WAAW,CAAE,EAFF,CAGXC,OAAO,CAAE,EAHE,CAIXC,SAAS,CAAE,EAJA,CAKXC,GAAG,CAAE,KALM,CAMXC,GAAG,CAAE,KANM,CAOXC,QAAQ,CAAE,EAPC,CAAb,CAZiB,aAqBlB,C,yFAEmB,iBAClBvB,KAAK,CAACwB,GAAN,kBAAoBvB,IAApB,aAA4BG,IAA5B,mBACGqB,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,eAAd,CAA8BC,MAA9B,CAAuC,CAA3C,CAA8C,CAC5C,MAAI,CAACC,QAAL,CAAc,CACVZ,WAAW,CAAEQ,QAAQ,CAACC,IAAT,CAAcC,eAAd,CAA8BG,MAA9B,CAAqC,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,IAAH,GAAY,OAAhB,EAAvC,EAAgEC,GAAhE,CAAoE,SAAAjB,UAAU,QAAIA,CAAAA,UAAU,CAACgB,IAAf,EAA9E,CADH,CAAd,EAGA,MAAI,CAACH,QAAL,CAAc,CACZb,UAAU,CAAE,MAAI,CAACD,KAAL,CAAWE,WAAX,CAAuB,CAAvB,CADA,CAAd,EAGH,CACF,CAVD,EAWGiB,KAXH,CAWS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAbH,EAeD,C,8DAEkBG,C,CAAG,CACpB,KAAKT,QAAL,CAAc,CACZb,UAAU,CAAEsB,CAAC,CAACC,MAAF,CAASC,KADT,CAAd,EAGD,C,wDAEeF,C,CAAG,CACjB,KAAKT,QAAL,CAAc,CACZX,OAAO,CAAEoB,CAAC,CAACC,MAAF,CAASC,KADN,CAAd,EAGD,C,4DAEiBF,C,CAAG,CACnB,KAAKT,QAAL,CAAc,CACZV,SAAS,CAAEmB,CAAC,CAACC,MAAF,CAASC,KADR,CAAd,EAGD,C,0DAEgBF,C,CAAG,CAClB,KAAKT,QAAL,CAAc,CACZP,QAAQ,CAAEgB,CAAC,CAACC,MAAF,CAASC,KADP,CAAd,EAGD,C,gDAEWF,C,CAAG,CACb,KAAKT,QAAL,CAAc,CACZT,GAAG,CAAEkB,CAAC,CAACC,MAAF,CAASC,KADF,CAAd,EAGD,C,gDAEWF,C,CAAG,CACb,KAAKT,QAAL,CAAc,CACZR,GAAG,CAAEiB,CAAC,CAACC,MAAF,CAASC,KADF,CAAd,EAGD,C,sDAEcF,C,CAAG,CAChB,KAAKT,QAAL,CAAc,CACZY,MAAM,CAAEH,CAAC,CAACC,MAAF,CAASC,KADL,CAAd,EAGD,C,0CAIQF,C,CAAG,CACVA,CAAC,CAACI,cAAF,GAEA,GAAMC,CAAAA,KAAK,CAAG,CACZC,cAAc,CAAE,KAAK7B,KAAL,CAAWC,UADf,CAEZE,OAAO,CAAE,KAAKH,KAAL,CAAWG,OAFR,CAGZC,SAAS,CAAE,KAAKJ,KAAL,CAAWI,SAHV,CAIZC,GAAG,CAAE,KAAKL,KAAL,CAAWK,GAJJ,CAKZC,GAAG,CAAE,KAAKN,KAAL,CAAWM,GALJ,CAMZoB,MAAM,CAAE,KAAK1B,KAAL,CAAW0B,MANP,CAOZnB,QAAQ,CAAE,KAAKP,KAAL,CAAWO,QAPT,CAAd,CAUAvB,KAAK,CAAC8C,IAAN,kBAAqB7C,IAArB,aAA6BG,IAA7B,2BAA2DwC,KAA3D,EACGnB,IADH,CACQ,SAAAsB,GAAG,CAAI,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACpB,IAAhB,EACAqB,KAAK,CAAC,yCAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CALH,EAMGf,KANH,CAMS,SAAAgB,GAAG,CAAI,CACZH,KAAK,CAACG,GAAD,CAAL,CACD,CARH,EAUD,C,uCAEQ,CACPC,MAAM,CAACC,SAAP,CAAiBC,YAAjB,CAAgC,UAAY,CAC1C,MAAO,MAAKC,OAAL,CAAa,QAAb,CAAuB,SAASC,GAAT,CAAa,CAAC,MAAOA,CAAAA,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAcC,WAAd,GAA8BF,GAAG,CAACG,MAAJ,CAAW,CAAX,EAAcC,WAAd,EAArC,CAAkE,CAAvG,CAAP,CACD,CAFD,CAIA,mBACA,oCACE,YAAK,SAAS,CAAC,iBAAf,qCADF,cAEE,cAAM,QAAQ,CAAE,KAAK7C,QAArB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,oCAAO,6CAAP,EADF,cAEE,eAAQ,GAAG,CAAC,WAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKC,KAAL,CAAWC,UAHtB,CAII,QAAQ,CAAE,KAAKV,kBAJnB,UAMM,KAAKS,KAAL,CAAWE,WAAX,CAAuBgB,GAAvB,CAA2B,SAASjB,UAAT,CAAqB,CAC9C,mBAAO,eAEL,KAAK,CAAEA,UAFF,UAEeA,UAAU,CAACqC,YAAX,EAFf,EACArC,UADA,CAAP,CAID,CALD,CANN,EAFF,GADF,cAkBE,aAAK,SAAS,CAAC,YAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKD,KAAL,CAAWG,OAHtB,CAII,QAAQ,CAAE,KAAKV,eAJnB,EAFJ,GAlBF,cA2BE,aAAK,SAAS,CAAC,YAAf,wBACE,qCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKO,KAAL,CAAWI,SAHtB,CAII,QAAQ,CAAE,KAAKV,iBAJnB,EAFF,GA3BF,cAoCE,aAAK,SAAS,CAAC,YAAf,wBACI,oCADJ,cAEE,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,QAAQ,CAAE,KAAKE,WAHnB,EAFF,GApCF,cA4CE,aAAK,SAAS,CAAC,YAAf,wBACI,oCADJ,cAEE,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,QAAQ,CAAE,KAAKC,WAHnB,EAFF,GA5CF,cAoDE,aAAK,SAAS,CAAC,YAAf,wBACE,4CADF,cAEE,cAAO,IAAI,CAAC,OAAZ,CACI,SAAS,CAAC,cADd,CAEI,KAAK,CAAE,KAAKG,KAAL,CAAW0B,MAFtB,CAGI,QAAQ,CAAE,KAAK5B,cAHnB,EAFF,GApDF,cA4DE,aAAK,SAAS,CAAC,YAAf,wBACE,mCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CACI,SAAS,CAAC,cADd,CAEI,KAAK,CAAE,KAAKE,KAAL,CAAWO,QAFtB,CAGI,QAAQ,CAAE,KAAKZ,gBAHnB,EAFF,GA5DF,cAoEE,YAAK,SAAS,CAAC,YAAf,uBACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,mBAA3B,CAA+C,SAAS,CAAC,iBAAzD,EADF,EApEF,GAFF,GADA,CA8ED,C,6BAlM0CZ,S,SAAxBM,e","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nvar host = process.env.host || '0.0.0.0';\nvar port = process.env.port || '5000';\n\n\nexport default class AddtoCollection extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeCollection = this.onChangeCollection.bind(this);\n    this.onChangePlaceId = this.onChangePlaceId.bind(this);\n    this.onChangePlaceName = this.onChangePlaceName.bind(this);\n    this.onChangeComments = this.onChangeComments.bind(this);\n    this.onChangeLat = this.onChangeLat.bind(this);\n    this.onChangeLng = this.onChangeLng.bind(this);\n    this.onChangeRating = this.onChangeRating.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      collection: '',\n      collections: [],\n      placeId: '',\n      placeName: '',\n      lat: 0.000,\n      lng: 0.000,\n      comments: ''\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`http://${host}:${port}/collections/`)\n      .then(response => {\n        if (response.data.collectionsList.length > 0) {\n          this.setState({\n              collections: response.data.collectionsList.filter(el => el.name !== 'users').map(collection => collection.name)\n        });\n          this.setState({\n            collection: this.state.collections[0]\n          });\n      }\n    })\n      .catch((error) => {\n        console.log(error);\n      })\n\n  }\n\n  onChangeCollection(e) {\n    this.setState({\n      collection: e.target.value\n    })\n  }\n\n  onChangePlaceId(e) {\n    this.setState({\n      placeId: e.target.value\n    })\n  }\n\n  onChangePlaceName(e) {\n    this.setState({\n      placeName: e.target.value\n    })\n  }\n\n  onChangeComments(e) {\n    this.setState({\n      comments: e.target.value\n    })\n  }\n\n  onChangeLat(e) {\n    this.setState({\n      lat: e.target.value\n    })\n  }\n\n  onChangeLng(e) {\n    this.setState({\n      lng: e.target.value\n    })\n  }\n\n  onChangeRating(e) {\n    this.setState({\n      rating: e.target.value\n    })\n  }\n\n\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const place = {\n      collectionName: this.state.collection,\n      placeId: this.state.placeId,\n      placeName: this.state.placeName,\n      lat: this.state.lat,\n      lng: this.state.lng,\n      rating: this.state.rating,\n      comments: this.state.comments\n    }\n\n    axios.post(`http://${host}:${port}/collections/place/add`, place)\n      .then(res => {\n        console.log(res.data);\n        alert(\"Place successfully added to collection!\");\n        window.location = '/';\n      })\n      .catch(err => {\n        alert(err)\n      })\n\n  }\n\n  render() {\n    String.prototype.toProperCase = function () {\n      return this.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\n    };\n\n    return (\n    <div>\n      <div className=\"component-title\">Add Place to Collection</div>\n      <form onSubmit={this.onSubmit}>\n        <div className=\"form-group\"> \n          <label><b>Collection to Add to: </b></label>\n          <select ref=\"userInput\"\n              required\n              className=\"form-control\"\n              value={this.state.collection}\n              onChange={this.onChangeCollection}>\n              {\n                this.state.collections.map(function(collection) {\n                  return <option \n                    key={collection}\n                    value={collection}>{collection.toProperCase()}\n                    </option>;\n                })\n              }\n          </select>\n        </div>\n        <div className=\"form-group\"> \n            <label>Place Id</label>\n            <input type=\"text\"\n                required\n                className=\"form-control\"\n                value={this.state.placeId}\n                onChange={this.onChangePlaceId}\n                />\n          </div>\n        <div className=\"form-group\"> \n          <label>Place Name</label>\n          <input type=\"text\"\n              required\n              className=\"form-control\"\n              value={this.state.placeName}\n              onChange={this.onChangePlaceName}\n              />\n        </div>\n        <div className=\"form-group\"> \n            <label>Lattitude</label>\n          <input type=\"text\"\n              required\n              className=\"form-control\"\n              onChange={this.onChangeLat}\n              />\n        </div>\n        <div className=\"form-group\"> \n            <label>Longitude</label>\n          <input type=\"text\"\n              required\n              className=\"form-control\"\n              onChange={this.onChangeLng}\n              />\n        </div>\n        <div className=\"form-group\"> \n          <label>Rating (Out of 5)</label>\n          <input type=\"float\"\n              className=\"form-control\"\n              value={this.state.rating}\n              onChange={this.onChangeRating}\n              />\n        </div>\n        <div className=\"form-group\"> \n          <label>Comments</label>\n          <input type=\"text\"\n              className=\"form-control\"\n              value={this.state.comments}\n              onChange={this.onChangeComments}\n              />\n        </div>\n        <div className=\"form-group\">\n          <input type=\"submit\" value=\"Add to Collection\" className=\"btn btn-primary\" />\n        </div>\n      </form>\n\n    </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}