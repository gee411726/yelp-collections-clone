{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/views/Detail/Detail.js\";\nimport React from 'react';\nimport { getDetails } from '../../utils/googleApiHelpers';\nimport styles from './styles.module.css';\nexport class Detail extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: true,\n      place: {},\n      location: {},\n      showDetails: true\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Detail props: \", this.props);\n\n    if (this.props.map) {\n      this.getDetails(this.props.map);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.map && (prevProps.map !== this.props.map || prevProps.placeId !== this.props.placeId)) {\n      this.getDetails(this.props.map);\n      this.setState({\n        showDetails: !this.state.showDetails\n      });\n    }\n  }\n\n  getDetails(map) {\n    const {\n      google\n    } = this.props; // this.props.google, this.props.params\n\n    const placeId = this.props.placeId;\n    this.setState({\n      loading: true\n    }, () => {\n      getDetails(google, map, placeId).then(place => {\n        const {\n          location\n        } = place.geometry; // place.geometry.location\n\n        const loc = {\n          lat: location.lat(),\n          lng: location.lng()\n        };\n        this.setState({\n          place: place,\n          location: loc,\n          loading: false\n        });\n      }).catch(err => console.log(\"error: \", err));\n    });\n  }\n\n  renderPhotos(place) {\n    if (!place.photos || place.photos.length === 0) return;\n    const cfg = {\n      maxWidth: 100,\n      maxHeight: 100\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.photoStrip,\n      children: place.photos.map(p => {\n        const url = `${p.getUrl(cfg)}.png`;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: url,\n          alt: \"unable to find img\"\n        }, url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n\n  showDetails() {\n    const {\n      place\n    } = this.state; // this.state.place\n\n    console.log(\"place information: \", place);\n    this.setState({\n      showDetails: !this.state.showDetails\n    });\n\n    if (this.state.showDetails == true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.details,\n        showDetails: this.state.showDetails,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.closeDetail,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            onClick: this.closeDetails,\n            onClick: this.closeDetails,\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: place.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.body,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Address: \", place.formatted_address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), this.renderPhotos(this.state.place)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Show Details is False\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  render() {\n    return this.showDetails();\n  }\n\n}\nexport default Detail;\n/*\nif (this.state.loading) {\n  return (<div className={styles.wrapper}>\n    Loading...\n  </div>)\n}\n*/","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/views/Detail/Detail.js"],"names":["React","getDetails","styles","Detail","Component","constructor","props","context","state","loading","place","location","showDetails","componentDidMount","console","log","map","componentDidUpdate","prevProps","placeId","setState","google","then","geometry","loc","lat","lng","catch","err","renderPhotos","photos","length","cfg","maxWidth","maxHeight","photoStrip","p","url","getUrl","details","closeDetail","closeDetails","name","body","formatted_address","render"],"mappings":"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","sourcesContent":["\nimport React from 'react'\nimport { getDetails } from '../../utils/googleApiHelpers'\n\nimport styles from './styles.module.css'\n\nexport class Detail extends React.Component {\n\n  constructor(props, context) {\n    super(props, context)\n\n    this.state = {\n      loading: true,\n      place: {},\n      location: {},\n      showDetails: true\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"Detail props: \", this.props)\n    if (this.props.map) {\n      this.getDetails(this.props.map)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.map &&\n        (prevProps.map !== this.props.map ||\n         prevProps.placeId !== this.props.placeId)) {\n      this.getDetails(this.props.map);\n      this.setState({showDetails: !this.state.showDetails})\n    }\n  }\n  \n  getDetails(map) {\n    const { google } = this.props; // this.props.google, this.props.params\n    const placeId = this.props.placeId;\n\n    this.setState({\n      loading: true\n    }, () => {\n      getDetails(google, map, placeId)\n        .then((place) => {\n          const {location} = place.geometry; // place.geometry.location\n          const loc = {\n            lat: location.lat(),\n            lng: location.lng()\n          }\n          this.setState({\n            place: place,\n            location: loc,\n            loading: false\n          })\n        })\n        .catch(err => console.log(\"error: \", err))\n    });\n  }\n\n\n  renderPhotos(place) {\n    if (!place.photos || place.photos.length === 0) return;\n\n    const cfg = {maxWidth: 100, maxHeight: 100}\n    return (<div className={styles.photoStrip}>\n      {place.photos.map(p => {\n        const url = `${p.getUrl(cfg)}.png`\n        return (<img key={url} src={url} alt={\"unable to find img\"}/>)\n      })}\n    </div>)\n  }\n\n  showDetails () { \n    const {place} = this.state; // this.state.place\n    console.log(\"place information: \", place)\n\n    this.setState({showDetails: !this.state.showDetails});\n\n    if (this.state.showDetails == true) {\n      return (\n        <div className={styles.details} showDetails={this.state.showDetails}>\n\n        <div className={styles.closeDetail}>\n          <h2 onClick={this.closeDetails} onClick={this.closeDetails}>X</h2>\n          <h2>{place.name}</h2> \n        </div>\n\n        <div className={styles.body}>\n          <h2>Address: {place.formatted_address}</h2>\n        </div>\n\n        {this.renderPhotos(this.state.place)}\n\n      </div>\n      )\n    } else {\n      return (\n        <div>Show Details is False</div>\n      )\n    }\n  }\n\n  \n\n  render() {\n    return (this.showDetails())\n  }\n}\n\nexport default Detail\n\n/*\nif (this.state.loading) {\n  return (<div className={styles.wrapper}>\n    Loading...\n  </div>)\n}\n*/"]},"metadata":{},"sourceType":"module"}