{"ast":null,"code":"import _defineProperty from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject2(){var data=_taggedTemplateLiteral([\" \\n  background: #252831; \\n  height: 60px; \\n  padding-left: 3rem; \\n  display: flex; \\n  align-items: center; \\n  top: 50%;\\n  text-decoration: none; \\n  color: #f5f5f5; \\n  font-size: 18px; \\n  \\n  &:hover { \\n    background: green; \\n    cursor: pointer; \\n  } \\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\" \\n  display: flex; \\n  color: #e1e9fc; \\n  justify-content: space-between; \\n  align-items: center; \\n  padding: 20px; \\n  list-style: none; \\n  height: 60px; \\n  text-decoration: none; \\n  font-size: 18px; \\n  \\n  &:hover { \\n    background: #252831; \\n    border-left: 4px solid green; \\n    cursor: pointer; \\n  } \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import styles from'./styles.module.css';import classnames from'classnames';import Item from'./Item';import styled from\"styled-components\";import*as RiIcons from\"react-icons/ri\";var SidebarLink=styled(Link)(_templateObject());var DropdownLink=styled(Link)(_templateObject2());var iconClosed=/*#__PURE__*/_jsx(RiIcons.RiArrowDownSFill,{});var iconOpened=/*#__PURE__*/_jsx(RiIcons.RiArrowUpSFill,{});var Collection=/*#__PURE__*/function(_Component){_inherits(Collection,_Component);var _super=_createSuper(Collection);function Collection(props){var _this;_classCallCheck(this,Collection);_this=_super.call(this,props);_this.showPlaces=_this.showPlaces.bind(_assertThisInitialized(_this));_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.state={places:[],showPlaces:false};return _this;}_createClass(Collection,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var collectionQuery={collectionName:this.props.collectionName};axios.post('http://localhost:5000/collections/collectionName/',collectionQuery).then(function(response){_this2.setState({places:response.data});}).catch(function(error){console.log(error);});}},{key:\"showPlaces\",value:function showPlaces(){this.setState({showPlaces:!this.state.showPlaces});if(this.state.places&&this.state.showPlaces===false){this.props.setCurrentPlaces(this.state.places.filter(function(place){return'name'in place;}));console.log(this.props.collectionName);this.props.sendCurrentCollectionToMapView(this.props.collectionName);}else{this.props.setCurrentPlaces([]);this.props.removeDetailItem();}}},{key:\"onClick\",value:function onClick(place,map,google){if(this.props.onListItemClick){place.place=place;this.props.onListItemClick(place,map,google);}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(SidebarLink,{onClick:this.showPlaces,className:classnames(styles.item,_defineProperty({},styles.itemHovered,this.state.hovered)),children:[/*#__PURE__*/_jsxs(\"h1\",{className:classnames(styles.title,\"dd-header-title\"),children:[\" \",this.props.collectionName,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{children:this.state.showPlaces?iconOpened:iconClosed})]}),this.state.showPlaces&&this.state.places.filter(function(place){return'name'in place;}).map(function(place){return/*#__PURE__*/_jsx(DropdownLink,{children:/*#__PURE__*/_jsx(Item,{place:place,onClickPlace:_this3.props.onClickPlace,onHighlight:_this3.props.onHighlight,offHighlight:_this3.props.offHighlight,setDBPlace:_this3.props.setDBPlace},place.id)});})]});}}]);return Collection;}(Component);export{Collection as default};","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/components/Listing/Collection.js"],"names":["React","Component","axios","Link","styles","classnames","Item","styled","RiIcons","SidebarLink","DropdownLink","iconClosed","iconOpened","Collection","props","showPlaces","bind","onClick","state","places","collectionQuery","collectionName","post","then","response","setState","data","catch","error","console","log","setCurrentPlaces","filter","place","sendCurrentCollectionToMapView","removeDetailItem","map","google","onListItemClick","item","itemHovered","hovered","title","onClickPlace","onHighlight","offHighlight","setDBPlace","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport styles from './styles.module.css';\nimport classnames from 'classnames';\n\nimport Item from './Item';\nimport styled from \"styled-components\"; \nimport * as RiIcons from \"react-icons/ri\"; \n\n\nconst SidebarLink = styled(Link)` \n  display: flex; \n  color: #e1e9fc; \n  justify-content: space-between; \n  align-items: center; \n  padding: 20px; \n  list-style: none; \n  height: 60px; \n  text-decoration: none; \n  font-size: 18px; \n  \n  &:hover { \n    background: #252831; \n    border-left: 4px solid green; \n    cursor: pointer; \n  } \n`; \n  \nconst DropdownLink = styled(Link)` \n  background: #252831; \n  height: 60px; \n  padding-left: 3rem; \n  display: flex; \n  align-items: center; \n  top: 50%;\n  text-decoration: none; \n  color: #f5f5f5; \n  font-size: 18px; \n  \n  &:hover { \n    background: green; \n    cursor: pointer; \n  } \n`; \n\nconst iconClosed = <RiIcons.RiArrowDownSFill />\nconst iconOpened = <RiIcons.RiArrowUpSFill />\n\n\nexport default class Collection extends Component {\n\n    constructor(props) {\n      super(props);\n\n      this.showPlaces = this.showPlaces.bind(this);\n      this.onClick = this.onClick.bind(this);\n\n      this.state = {\n          places: [],\n          showPlaces: false,\n      };\n    }\n\n    componentDidMount() {\n      const collectionQuery = {\n          collectionName: this.props.collectionName\n      }\n\n      axios.post('http://localhost:5000/collections/collectionName/', collectionQuery)\n        .then(response => {\n          this.setState({\n              places: response.data\n          })\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n    }\n\n    showPlaces () { \n      this.setState({showPlaces: !this.state.showPlaces});\n      if (this.state.places && this.state.showPlaces === false) {\n        this.props.setCurrentPlaces(this.state.places.filter( place => 'name' in place));\n        console.log(this.props.collectionName)\n        this.props.sendCurrentCollectionToMapView(this.props.collectionName) \n      } else {\n        this.props.setCurrentPlaces([])\n        this.props.removeDetailItem()\n      }\n    }\n\n    onClick(place, map, google) {\n      if (this.props.onListItemClick) {\n        place.place = place;\n        this.props.onListItemClick(place, map, google)\n      }\n    }\n\n    render() {\n        return ( \n          <div>\n            <SidebarLink onClick={this.showPlaces}\n              className = {classnames(styles.item,{[styles.itemHovered]: this.state.hovered })}>\n              <h1 className={classnames(styles.title, \"dd-header-title\")}> { this.props.collectionName } <br/> </h1>\n              <div>\n                {this.state.showPlaces\n                ? iconOpened\n                : iconClosed}\n              </div>\n            </SidebarLink>\n            { this.state.showPlaces && this.state.places.filter( place => 'name' in place).map( place => {\n                return ( \n                  <DropdownLink>\n                    <Item place={place}\n                      onClickPlace={this.props.onClickPlace}\n                      onHighlight={this.props.onHighlight}\n                      offHighlight={this.props.offHighlight}\n                      key={place.id}\n                      setDBPlace={this.props.setDBPlace}\n                      />\n                  </DropdownLink>\n                )\n              })\n            }\n          </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}