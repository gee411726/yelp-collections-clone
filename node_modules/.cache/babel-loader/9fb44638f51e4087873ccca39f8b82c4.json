{"ast":null,"code":"import _classCallCheck from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';var port=process.env.PORT||5000;var host=process.env.HOST||'0.0.0.0';var EditCollection=/*#__PURE__*/function(_Component){_inherits(EditCollection,_Component);var _super=_createSuper(EditCollection);function EditCollection(props){var _this;_classCallCheck(this,EditCollection);_this=_super.call(this,props);_this.onChangeCollectionName=_this.onChangeCollectionName.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={collectionName:'',collections:[]};return _this;}_createClass(EditCollection,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://\".concat(host,\":\").concat(port,\"/collections/\")).then(function(response){if(response.data.collectionsList.length>0){_this2.setState({collections:response.data.collectionsList.map(function(collection){return collection.name;}),collectionName:response.data.collectionsList[0].name});}}).catch(function(error){console.log(error);});}},{key:\"onChangeCollectionName\",value:function onChangeCollectionName(e){this.setState({collectionName:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();if(window.confirm(\"Confirm you want to delete this collection! This action is irreversible.\")){var request={collectionName:this.state.collectionName};axios.post(\"http://\".concat(host,\":\").concat(port,\"/collections/delete/collection\"),request).then(function(res){console.log(res.data);alert(\"Collection successfully deleted!\");window.location='/edit';}).catch(function(err){alert(err);});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"component-title\",children:\"Edit Collections Collection\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Collection Name \"}),/*#__PURE__*/_jsx(\"select\",{ref:\"userInput\",required:true,className:\"form-control\",value:this.state.collectionName,onChange:this.onChangeCollectionName,children:this.state.collections.map(function(collection){return/*#__PURE__*/_jsx(\"option\",{value:collection,children:collection},collection);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Delete Collection\",className:\"btn btn-primary\"})})]})]});}}]);return EditCollection;}(Component);export{EditCollection as default};","map":{"version":3,"sources":["/Users/bgee/Desktop/Web App Projects/yelp-collections-clone-project/src/components/Edit-Collections/Edit-Collections.js"],"names":["React","Component","axios","port","process","env","PORT","host","HOST","EditCollection","props","onChangeCollectionName","bind","onSubmit","state","collectionName","collections","get","then","response","data","collectionsList","length","setState","map","collection","name","catch","error","console","log","e","target","value","preventDefault","window","confirm","request","post","res","alert","location","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nvar port = process.env.PORT || 5000;\nvar host = process.env.HOST || '0.0.0.0';\n\nexport default class EditCollection extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeCollectionName = this.onChangeCollectionName.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      collectionName: '',\n      collections: []\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`http://${host}:${port}/collections/`)\n      .then(response => {\n        if (response.data.collectionsList.length > 0) {\n          this.setState({\n              collections: response.data.collectionsList.map(collection => collection.name),\n              collectionName: response.data.collectionsList[0].name\n        })\n      }\n    })\n      .catch((error) => {\n        console.log(error);\n      })\n\n  }\n\n  onChangeCollectionName(e) {\n    this.setState({\n      collectionName: e.target.value\n    })\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (window.confirm(\"Confirm you want to delete this collection! This action is irreversible.\")) {\n      const request = {\n        collectionName: this.state.collectionName\n      }\n  \n      axios.post(`http://${host}:${port}/collections/delete/collection`, request)\n        .then(res => {\n          console.log(res.data);\n          alert(\"Collection successfully deleted!\");\n          window.location = '/edit';\n        })\n        .catch(err => {\n          alert(err)\n        })\n    }\n  }\n\n  render() {\n    return (\n    <div>\n      <div className=\"component-title\">Edit Collections Collection</div>\n      <form onSubmit={this.onSubmit}>\n        <div className=\"form-group\"> \n          <label>Collection Name </label>\n          <select ref=\"userInput\"\n              required\n              className=\"form-control\"\n              value={this.state.collectionName}\n              onChange={this.onChangeCollectionName}>\n              {\n                this.state.collections.map(function(collection) {\n                  return <option \n                    key={collection}\n                    value={collection}>{collection}\n                    </option>;\n                })\n              }\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <input type=\"submit\" value=\"Delete Collection\" className=\"btn btn-primary\" />\n        </div>\n      </form>\n    </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}